function [depthMap] = stereo_computation(imgL,imgR, minDisp, maxDisp, wSize, cost)
%STEREO_COMPUTATION Summary of this function goes here
%   Detailed explanation goes here
if (size(imgL,3) == 3)
    imgL = sum(imgL, 3) / 3;
end
if (size(imgR,3) == 3)
    imgR = sum(imgR, 3) / 3;
end 

disparity = zeros(size(imgL,1), size(imgL,2));

[nrows, ncols] = size(imgL);
step = (wSize-1)/2;
% figure;
for j =1+step:(nrows-step)
    for i=(1+step):(ncols-step-maxDisp)
        template = imgR(j-step:j+step,i-step:i+step);
%         segment = imgL(j-step:j+step, i-step:i+step+maxDisp);
        rowCorr = zeros(maxDisp-minDisp+1,1);
        for d = minDisp:maxDisp
            rowCorr(d+1)=ssd_cost(template, imgL(j-step:j+step, i-step+d:i+step+d));

        end
        [~, idx] = max(rowCorr);
        disparity(j,i)=idx-1;
    end
end


imshow(uintdepthMap);



depthMap = inputArg2;
end

